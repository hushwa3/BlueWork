@{
    ViewData["Title"] = "Review Proposal";
}

<div class="container mt-5">

    <!-- Progress Bar -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex align-items-center">
                <div class="flex-grow-1">
                    <div class="progress" style="height: 7vh;">
                        <div class="job-post progress-bar bg-white text-dark fs-6" style="width: 34%;">
                            <a class="navbar-brand text-dark fs-6" asp-area="" asp-controller="Home" asp-action="JobPost">Your Job Postings</a>
                        </div>
                        <div class="job-post progress-bar bg-primary fs-6" style="width: 33%;">
                            Review Proposals
                        </div>
                        <div class="job-post progress-bar bg-white text-dark border-start border-end fs-6" style="width: 33%;">
                            <a class="navbar-brand text-dark fs-6" asp-area="" asp-controller="Home" asp-action="Hire">Hire</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    @if (ViewBag.Applicants != null && ViewBag.Applicants.Count > 0)
    {
        @foreach (var applicant in ViewBag.Applicants)
        {
            <!-- Worker Cards -->
            <div class="worker-card-review mb-4">
                <div class="d-flex justify-content-between align-items-start">
                    <div class="d-flex gap-3">
                        <div class="text-center">
                            <i class="fa-solid fa-circle-user fa-3x rounded-circle profile-img-review"></i>
                        </div>
                        
                        <div>
                            <h5 class="mb-1">
                                <a class="text-dark" asp-action="ViewWorkerProfile" asp-controller="Home" asp-route-id="@applicant.UserId">
                                    @applicant.FirstName @applicant.LastName
                                </a>
                            </h5>
                            <p class="mb-1">Construction Worker</p>
                            <p class="mb-2">Philippines</p>
                            <span class="available-badge-review">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                                </svg>
                                Available
                            </span>
                            <p class="mt-3 mb-1">₱125.00/hr</p>
                            <p class="mb-0">Has 6 relevant skills to your job</p>
                        </div>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-outline-secondary text-light border-0">Hire</button>
                        <button class="btn btn-primary border-0">
                            <a class="text-light" asp-action="ViewWorkerProfile" asp-controller="Home" asp-route-id="@applicant.UserId">View Profile</a>
                            </button>
                    </div>
                </div>
            </div>
        }
    }
    else
    {
        <!-- No Applicants Found -->
        <div class="alert alert-info">
            <strong>No applicants found for this job.</strong>
        </div>
    }

    <!-- Find Workers Link -->
    <div class="text-end mt-3">
        <a href="#" class="text-decoration-none">Find workers with related skill set?</a>
    </div>
</div>
